# Base Worker Template
# Copy and customize for your worker

worker:
  id: my-worker              # unique identifier
  name: "My Worker"          # human-readable name
  type: CodeWorker           # CodeWorker, SocialWorker, ResearchWorker, OpsWorker
  version: "1.0"

identity:
  # Choose one:
  # persona: corey-epstein
  # company_context: companies/acme/
  # voice_guide: knowledge/my-brand/voice-style.md

execution:
  mode: on-demand            # on-demand, scheduled, event-triggered
  # schedule: "0 9 * * *"    # cron format (if scheduled)
  max_runtime: 15m
  retry_attempts: 3

context:
  base:                      # always loaded
    - path/to/required/file.md
  dynamic:                   # loaded per task
    - path/to/task/context/
  exclude:                   # never load
    - "*.test.*"
    - node_modules/

verification:
  pre_execute: []            # checks before starting
  post_execute:              # checks before marking done
    - check: output_valid
  approval_required: false   # true = human reviews before action

tasks:
  source: path/to/tasks.json # or prd.json
  format: simple             # simple, prd
  one_at_a_time: true        # always true (Ralph principle)

output:
  destination: path/to/output/
  format: markdown           # markdown, json, git_commit

audit:
  log: workers/logs/my-worker.log
  progress: workers/progress/my-worker.txt

# State Machine (Loom pattern)
state_machine:
  enabled: true
  max_retries: 1

  hooks:
    post_execute:
      - auto_checkpoint          # save thread to workspace/threads/
      - log_metrics              # append to workspace/metrics/metrics.jsonl
    on_error:
      - log_error
      - checkpoint_error_state

instructions: |
  Worker-specific instructions go here.

  Protocol:
  1. Step one
  2. Step two
  3. Step three

  Never:
  - Thing to avoid
  - Another thing to avoid
